<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard | Broker Portal</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />

  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/dashboard.css" />
</head>

<body class="dashboard-page">
  <header class="portal-nav">
    <nav class="navbar navbar-expand-xxl navbar-dark">
      <div class="container-fluid home-shell">
        <a class="navbar-brand nav-logo" href="home.html">
          <img src="assets/images/logo.png" alt="Binghatti" />
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#portalNavbar"
          aria-controls="portalNavbar" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse nav-links-wrap" id="portalNavbar">
          <ul class="navbar-nav nav-links">
            <li class="nav-item">
              <a class="nav-link" href="home.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="dashboard.html">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="explore.html">Explore Availability</a>
            </li>
             <!-- <li class="nav-item">
              <a class="nav-link" href="university.html">Binghatti University</a>
            </li> -->
            <li class="nav-item">
              <a class="nav-link" href="sales.html">My Sales</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="commissions.html">My Commissions</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="reports.html">Reports</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="requests.html">Requests</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="help.html">Help</a>
            </li>
          </ul>

          <a class="user-badge user-badge--menu d-xxl-none text-decoration-none" href="profile.html"
            aria-label="Open profile">
            <span class="user-initial">
              <img src="assets/images/lake-logo.png" alt="name logo">
            </span>
            <span class="user-name">Mohammed Ali</span>
          </a>
        </div>

        <a class="user-badge d-none d-xxl-flex text-decoration-none" href="profile.html" aria-label="Open profile">
          <span class="user-initial">
            <img src="assets/images/lake-logo.png" alt="name logo">
          </span>
          <span class="user-name">Mohammed Ali</span>
        </a>
      </div>
    </nav>
  </header>

  <main class="dashboard-content">
    <div class="dashboard-shell">
      <section class="dashboard-charts">
        <div class="chart-card chart-card--pie">
          <div class="chart-panel chart-panel--pie">
            <canvas id="leadsChart" aria-label="Active leads pie chart" role="img"></canvas>
          </div>
          <div class="chart-legend" aria-hidden="true">
            <span class="legend-item">
              <span class="legend-swatch" style="--legend-color: #e5df00;"></span>
              Active Leads
            </span>
            <span class="legend-item">
              <span class="legend-swatch" style="--legend-color: #f6b500;"></span>
              Closed Deals
            </span>
            <span class="legend-item">
              <span class="legend-swatch" style="--legend-color: #8ddc6e;"></span>
              Active Opportunities
            </span>
            <span class="legend-item">
              <span class="legend-swatch" style="--legend-color: #00a64a;"></span>
              Active Saleorder
            </span>
          </div>
        </div>

        <div class="chart-card chart-card--bar">
          <div class="chart-panel chart-panel--bar">
            <canvas id="dealsChart" aria-label="Deals bar chart" role="img"></canvas>
          </div>
        </div>
      </section>

      <section class="dashboard-metrics">
        <div class="metric-card metric-card--total">
          <span class="metric-label">Total Commissions</span>
          <span class="metric-value">600,000 AED</span>
        </div>
        <div class="metric-card metric-card--paid">
          <span class="metric-label">Paid Commissions</span>
          <span class="metric-value">400,000 AED</span>
        </div>
        <div class="metric-card metric-card--pending">
          <span class="metric-label">Pending Commissions</span>
          <span class="metric-value">150,000 AED</span>
        </div>
        <div class="metric-card metric-card--payout">
          <span class="metric-label">Eligible Payout</span>
          <span class="metric-value">50,000 AED</span>
        </div>
      </section>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <script>
    Chart.register(ChartDataLabels);
    Chart.defaults.font.family = '"Dubai", "Segoe UI", sans-serif';
    Chart.defaults.color = "#ffffff";

    const pieData = {
      labels: ["Active Leads", "Closed Deals", "Active Opportunities", "Active Saleorder"],
      values: [55, 10, 10, 25],
      colors: ["#e5df00", "#f6b500", "#8ddc6e", "#00a64a"]
    };

    const pieCtx = document.getElementById("leadsChart");
    new Chart(pieCtx, {
      type: "pie",
      data: {
        labels: pieData.labels,
        datasets: [
          {
            data: pieData.values,
            backgroundColor: pieData.colors,
            borderWidth: 0
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: { enabled: false },
          datalabels: {
            color: "#0a0a0a",
            font: { weight: "700", size: 14 },
            formatter: (value, context) => {
              const data = context.chart.data.datasets[0].data;
              const total = data.reduce((sum, current) => sum + current, 0);
              const percent = total ? Math.round((value / total) * 100) : 0;
              return `${percent}%`;
            }
          }
        }
      }
    });

    const barData = {
      labels: ["Closed Deals", "Active Opportunities", "Active Saleorder"],
      values: [10000, 25000, 35000],
      colors: ["#f6b500", "#8ddc6e", "#00a64a"]
    };

    const barCtx = document.getElementById("dealsChart");
    new Chart(barCtx, {
      type: "bar",
      data: {
        labels: barData.labels,
        datasets: [
          {
            data: barData.values,
            backgroundColor: barData.colors,
            borderSkipped: false,
            barPercentage: 0.6,
            categoryPercentage: 0.7
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: { enabled: false }
        },
        scales: {
          x: {
            ticks: {
              color: "rgba(255, 255, 255, 0.7)",
              font: { size: 10 }
            },
            grid: { display: false },
            border: { color: "rgba(255, 255, 255, 0.35)" }
          },
          y: {
            beginAtZero: true,
            ticks: {
              color: "rgba(255, 255, 255, 0.7)",
              stepSize: 5000,
              callback: (value) => String(value)
            },
            grid: { color: "rgba(255, 255, 255, 0.08)" },
            border: { color: "rgba(255, 255, 255, 0.35)" }
          }
        },
        layout: {
          padding: { top: 10, right: 10, left: 10, bottom: 0 }
        }
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
</body>

</html>
